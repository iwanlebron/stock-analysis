## Go 语言重构计划

我将使用 Go 语言完全重写后端服务，替换现有的 Python 实现。目标是提供高性能的单一二进制文件，同时保持 API 接口与现有前端完全兼容。

### 1. 项目结构
将在根目录创建标准的 Go 项目结构：
```
.
├── go.mod
├── cmd/
│   └── server/       # 主程序入口
│       └── main.go
├── internal/
│   ├── api/          # HTTP API 处理层
│   ├── data/         # 数据获取 (Yahoo Finance)
│   ├── calc/         # 指标计算与评分逻辑
│   └── models/       # 数据结构定义
└── web/              # 前端静态资源 (复用现有的 HTML)
```

### 2. 核心模块实现
- **数据层 (internal/data)**:
  - 实现 `YahooProvider`，直接调用 Yahoo Finance Chart API (`v8/finance/chart`) 获取 OHLCV 数据。
  - 实现简单的内存/文件缓存，避免频繁请求。
- **计算层 (internal/calc)**:
  - **技术指标**: 从零实现 SMA, RSI, MACD, Momentum, Volatility 等核心算法 (无需重型依赖)。
  - **归一化**: 实现滚动窗口分位数算法 (Rolling Percentile) 将指标映射为 0-100 分。
  - **评分**: 实现加权平均逻辑，输出最终 Fear & Greed 指数。
- **API 层 (internal/api)**:
  - 使用标准库 `net/http` (或轻量级路由) 实现 REST API。
  - 保持 endpoint `/fear-greed` 的参数和响应格式与 Python 版本 **100% 兼容**，确保前端无需修改即可运行。

### 3. 前端集成
- 使用 Go 1.16+ 的 `embed` 特性，将 `index.html` 打包进 Go 二进制文件。
- 提供单一的可执行文件，启动即由 Go 服务同时托管 API 和 静态页面。

### 4. 依赖管理
- 初始化 `go.mod`。
- 尽量仅使用标准库，确保轻量和易维护 (可能引入 `testify` 用于测试)。

### 5. 验证
- 编写单元测试验证指标计算的准确性。
- 启动 Go 服务，验证前端页面能否正常加载数据并展示图表。

确认后，我将开始初始化 Go 模块并逐步实现各层逻辑。